@import (reference) "./css/constants.less";

.repeat-px(@list, @prefix, @prop, @sel:~'', @i:1) when (@i <= length(@list)) {
	@value: extract(@list, @i);
	.@{prefix}-@{i} @{sel} { @{prop}: @value*@px; }
	.repeat-px(@list, @prefix, @prop, @sel, @i+1);
}

.repeat-imp(@list, @prefix, @prop, @sel:~'', @i:1) when (@i <= length(@list)) {
	@value: extract(@list, @i);
	.@{prefix}-@{value} @{sel} { @{prop}: @value !important; }
	.repeat-imp(@list, @prefix, @prop, @sel, @i+1);
}

.repeat(@list, @prefix, @prop, @sel:~'', @i:1) when (@i <= length(@list)) {
	@value: extract(@list, @i);
	.@{prefix}-@{value} @{sel} { @{prop}: @value; }
	.repeat(@list, @prefix, @prop, @sel, @i+1);
}

/* ************************** */
html {
	font-size: @font-size; line-height: (@font-size + 2px);
}

.xui-app {
	position: absolute; left: 0; top: 0; width: 100vw; height: 100vh; margin: 0; padding: 0; overflow: hidden;
	background-image: if(@background-image="", none, url(@background-image));
	background-color: @base-color;
	color: @text-base;
}

* {
	cursor: if(@cursor="", default, e(%("url(%a) 2 2, auto", @cursor)));
}

/* ************************** */
.repeat-imp(@display-modes, d, display);

.repeat-px(@sizes, p, padding);
.repeat-px(@sizes, pl, padding-left);
.repeat-px(@sizes, pr, padding-right);
.repeat-px(@sizes, pt, padding-top);
.repeat-px(@sizes, pb, padding-bottom);

.repeat-px(@sizes, m, margin);
.repeat-px(@sizes, ml, margin-left);
.repeat-px(@sizes, mr, margin-right);
.repeat-px(@sizes, mt, margin-top);
.repeat-px(@sizes, mb, margin-bottom);

.repeat-px(@sizes, ch-m, margin, ~'> *');
.repeat-px(@sizes, ch-ml, margin-left, ~'> *');
.repeat-px(@sizes, ch-mr, margin-right, ~'> *');
.repeat-px(@sizes, ch-mt, margin-top, ~'> *');
.repeat-px(@sizes, ch-mb, margin-bottom, ~'> *');

.pixelated {
    image-rendering: -moz-crisp-edges;
    image-rendering: -o-crisp-edges;
    image-rendering: -webkit-optimize-contrast;
    -ms-interpolation-mode: nearest-neighbor;
    image-rendering: pixelated;
}

.float-left { float: left; }
.float-right { float: right; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.text-left { text-align: left; }
.text-justify { text-align: justify; }

.flex-row { display: flex; flex-flow: row; }
.flex-col { display: flex; flex-flow: column; }

.flex-row > * { flex: 1 1 0; }
.flex-col > * { flex: 1 1 0; }

.flex-even { flex: 1 1 0; }
.flex-static { flex: 0 0 auto; }
.flex-fill { flex: 1 1 auto; }

/* ************************** */
@import "./css/x-scrollable.less";

@import "./css/general.less";

@import "./css/xui-dialog.less";
@import "./css/xui-list.less";
@import "./css/xui-dropdown.less";
@import "./css/xui-context.less";
@import "./css/xui-menubar.less";
@import "./css/xui-panel.less";
@import "./css/xui-image-list.less";
